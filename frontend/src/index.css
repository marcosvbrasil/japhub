/* src/index.css */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* --- O NOSSO NOVO SISTEMA DE DESIGN --- */
:root {
  /* Cores */
  --cor-primaria: #1e1e1e;
  --cor-primaria-hover: #333;
  --cor-texto: #333;
  --cor-texto-claro: #888;
  --cor-fundo: #f0f2f5;
  --cor-branco: #fff;
  --cor-borda: #e0e0e0;
  --cor-borda-focada: #ccc;
  --cor-fundo-hover: #f9f9f9;
  --cor-perigo: #e53e3e;

  /* Tipografia */
  --fonte-principal: 'Inter', sans-serif;
  --fonte-tamanho-base: 16px;
  --fonte-tamanho-pequeno: 14px;
  --fonte-tamanho-grande: 18px;
  --fonte-peso-normal: 500;
  --fonte-peso-negrito: 600;

  /* Espaçamento */
  --espacamento-s: 8px;
  --espacamento-m: 15px;
  --espacamento-l: 20px;
  --espacamento-xl: 30px;
  --espacamento-xxl: 40px;

  /* Outros */
  --raio-borda: 8px;
  --sombra-card: 0 2px 8px rgba(0,0,0,0.05);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--fonte-principal);
    background-color: var(--cor-fundo);
    color: var(--cor-texto);
    -webkit-font-smoothing: antialiased;
}

.app-container {
    display: flex;
    min-height: 100vh;
}

.main-content-area {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* --- SIDEBAR --- */
.sidebar {
    width: 240px;
    background-color: var(--cor-primaria);
    color: var(--cor-branco);
    padding: var(--espacamento-l);
    display: flex;
    flex-direction: column;
    height: 100vh;
    flex-shrink: 0;
}
.sidebar-header {
    display: flex;
    align-items: center;
    margin-bottom: var(--espacamento-xxl);
}
.sidebar-header .logo-icon {
    font-size: 24px;
    margin-right: 12px;
}
.sidebar-header h1 {
    font-size: 20px;
    font-weight: var(--fonte-peso-negrito);
}
.sidebar-nav {
    flex-grow: 1;
}
.sidebar-nav .nav-item {
    display: flex;
    align-items: center;
    padding: 12px;
    margin-bottom: var(--espacamento-s);
    border-radius: var(--raio-borda);
    text-decoration: none;
    color: #a0a0a0;
    font-weight: var(--fonte-peso-normal);
    transition: background-color 0.3s, color 0.3s;
}
.sidebar-nav .nav-item:hover {
    background-color: var(--cor-primaria-hover);
    color: var(--cor-branco);
}
.sidebar-footer .nav-item {
    cursor: pointer;
}
.sidebar-nav .nav-item svg {
    font-size: var(--fonte-tamanho-grande);
    margin-right: var(--espacamento-m);
    width: 20px;
}

/* --- NOVA ESTRUTURA DE LAYOUT PRINCIPAL --- */

.page-wrapper {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    height: 100vh; /* Ocupa a altura da janela */
    overflow: hidden; /* Controla o scroll */
}

.main-header {
    padding: var(--espacamento-m) var(--espacamento-xxl);
    border-bottom: 1px solid var(--cor-borda);
    background-color: var(--cor-branco);
    flex-shrink: 0; /* Impede que o header encolha */
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.main-header .header-logo {
    display: flex;
    align-items: center;
    color: var(--cor-texto);
}
.main-header .logo-icon {
    font-size: 24px;
    margin-right: 12px;
}
.main-header .header-actions {
    display: flex;
    align-items: center;
    gap: var(--espacamento-l);
    font-size: 20px;
}

.page-content {
    flex-grow: 1;
    overflow-y: auto; /* Adiciona scroll apenas ao conteúdo se ele for grande */
    padding: var(--espacamento-xxl); /* O nosso "espaçamento de respiração" */
    background-color: var(--cor-fundo); /* Fundo cinza para o conteúdo */
}

/* --- PÁGINA PRINCIPAL (MAIN CONTENT) --- */
.form-list-section {
    width: 100%;
    max-width: 1000px;
    margin: 0 auto;
}
.btn-create-new {
    width: 100%;
    padding: var(--espacamento-m);
    background-color: var(--cor-branco);
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    font-size: var(--fonte-tamanho-base);
    font-weight: var(--fonte-peso-negrito);
    cursor: pointer;
    margin-bottom: var(--espacamento-l);
    transition: background-color 0.3s;
}
.btn-create-new:hover {
    background-color: var(--cor-fundo-hover);
}
.workspace-controls {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--espacamento-l);
    gap: var(--espacamento-m);
}
.search-input {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid var(--cor-borda-focada);
    border-radius: var(--raio-borda);
    font-size: var(--fonte-tamanho-base);
}
.filter-select {
    padding: 10px 15px;
    border: 1px solid var(--cor-borda-focada);
    border-radius: var(--raio-borda);
    font-size: var(--fonte-tamanho-base);
    background-color: var(--cor-branco);
}
.form-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--espacamento-l);
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    margin-bottom: 12px;
    transition: border-color 0.3s, box-shadow 0.3s;
    background-color: var(--cor-branco);
}
.form-card:hover {
    border-color: var(--cor-primaria-hover);
    box-shadow: var(--sombra-card);
}
.form-card-info span {
    font-weight: var(--fonte-peso-negrito);
    font-size: var(--fonte-tamanho-grande);
}
.form-card-info small {
    margin-top: 4px;
    color: var(--cor-texto-claro);
}
.action-button {
    display: flex;
    align-items: center;
    gap: var(--espacamento-s);
    padding: var(--espacamento-s) 12px;
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    color: var(--cor-texto);
    font-weight: var(--fonte-peso-normal);
    font-size: var(--fonte-tamanho-pequeno);
    background-color: var(--cor-fundo-hover);
    transition: background-color 0.2s, box-shadow 0.2s;
    text-decoration: none;
}
.action-button:hover {
    background-color: var(--cor-fundo);
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

/* --- CONSTRUTOR DE FORMULÁRIOS (FORM BUILDER) --- */
.builder-page-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    background-color: var(--cor-fundo);
}
.builder-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px var(--espacamento-l);
    background-color: var(--cor-branco);
    border-bottom: 1px solid var(--cor-borda);
    flex-shrink: 0;
}
.builder-header-left {
    display: flex;
    align-items: center;
    gap: var(--espacamento-m);
}
.form-title-input-header {
    font-size: var(--fonte-tamanho-grande);
    font-weight: var(--fonte-peso-negrito);
    border: none;
    padding: var(--espacamento-s);
    border-radius: 4px;
}
.form-title-input-header:focus {
    outline: none;
    background-color: var(--cor-fundo);
}
.category-select-header {
    font-size: var(--fonte-tamanho-pequeno);
    padding: var(--espacamento-s);
    border: 1px solid var(--cor-borda-focada);
    border-radius: 4px;
    background-color: var(--cor-fundo-hover);
}
.publish-btn {
    background-color: var(--cor-primaria);
    color: var(--cor-branco);
    border: none;
    padding: 10px var(--espacamento-l);
    border-radius: var(--raio-borda);
    font-size: var(--fonte-tamanho-base);
    font-weight: var(--fonte-peso-negrito);
    cursor: pointer;
}
.publish-btn:hover {
    background-color: var(--cor-primaria-hover);
}
.builder-main-content {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
}
.builder-sidebar-left {
    width: 280px;
    background-color: var(--cor-branco);
    padding: var(--espacamento-l);
    border-right: 1px solid var(--cor-borda);
    flex-shrink: 0;
    overflow-y: auto;
}
.builder-sidebar-left h3 {
    font-size: var(--fonte-tamanho-base);
    margin-bottom: var(--espacamento-m);
    color: #555;
}
.field-type-item {
    background-color: var(--cor-fundo-hover);
    border: 1px solid var(--cor-borda);
    padding: var(--espacamento-m);
    margin-bottom: 10px;
    border-radius: var(--raio-borda);
    font-weight: var(--fonte-peso-normal);
    cursor: pointer;
    transition: background-color 0.2s, box-shadow 0.2s;
}
.field-type-item:hover {
    background-color: var(--cor-branco);
    box-shadow: var(--sombra-card);
}
.builder-canvas-center {
    flex-grow: 1;
    padding: var(--espacamento-xxl);
    overflow-y: auto;
}
.canvas-empty-state {
    text-align: center;
    padding: 80px var(--espacamento-xxl);
    border: 2px dashed var(--cor-borda-focada);
    border-radius: var(--raio-borda);
    color: var(--cor-texto-claro);
}
.canvas-empty-state h3 {
    font-size: 20px;
    margin-bottom: 10px;
}
.form-field-preview {
    background-color: var(--cor-fundo-hover);
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    padding: var(--espacamento-l);
    margin-bottom: var(--espacamento-m);
    position: relative; 
    display: flex;
    align-items: center;
}
.form-field-preview label {
    display: block;
    font-weight: var(--fonte-peso-normal);
    margin-bottom: var(--espacamento-s);
}
.drag-handle {
    cursor: grab;
    padding-right: var(--espacamento-m);
    font-size: 20px;
    color: var(--cor-borda-focada);
}
.field-content {
    flex-grow: 1;
}
.edit-field-btn {
    background: none;
    border: none;
    color: #aaa;
    cursor: pointer;
    font-size: var(--fonte-tamanho-base);
    margin-left: auto;
    padding: 5px 10px;
}
.edit-field-btn:hover {
    color: var(--cor-primaria);
}
.field-input,
textarea.field-input {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--cor-borda-focada);
    border-radius: 4px;
    background-color: var(--cor-fundo);
    margin-top: 5px;
    font-family: inherit; 
    font-size: inherit;
}

/* --- PAINEL DE PROPRIEDADES --- */
.properties-panel-right {
    width: 320px;
    background-color: var(--cor-branco);
    border-left: 1px solid var(--cor-borda);
    flex-shrink: 0;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}
.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--espacamento-l);
    border-bottom: 1px solid var(--cor-borda);
    flex-shrink: 0;
}
.panel-header h3 {
    font-size: var(--fonte-tamanho-grande);
}
.close-panel-btn {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    color: var(--cor-texto-claro);
}
.panel-content {
    padding: var(--espacamento-l);
    flex-grow: 1;
}
.property-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espacamento-m);
}
.property-item label {
    font-weight: var(--fonte-peso-normal);
}
.property-input {
    width: 100%;
    padding: var(--espacamento-s);
    border-radius: 4px;
    border: 1px solid var(--cor-borda-focada);
    margin-top: 5px;
    font-size: var(--fonte-tamanho-pequeno);
}
.panel-footer {
    padding: var(--espacamento-l);
    border-top: 1px solid var(--cor-borda);
    flex-shrink: 0;
}
.delete-button-panel {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--cor-perigo);
    color: var(--cor-perigo);
    background-color: var(--cor-branco);
    border-radius: var(--raio-borda);
    font-weight: var(--fonte-peso-negrito);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--espacamento-s);
}
.delete-button-panel:hover {
    background-color: var(--cor-perigo);
    color: var(--cor-branco);
}
.divider {
    border: none;
    border-top: 1px solid var(--cor-borda);
    margin: var(--espacamento-l) 0;
}

/* --- CAMPOS ESPECÍFICOS (RADIO, ETC) --- */
.radio-options-container, .radio-options-container-submission {
    margin-top: var(--espacamento-s);
    border: 1px solid var(--cor-borda);
    border-radius: 4px;
    padding: var(--espacamento-m);
    background-color: var(--cor-fundo);
}
.radio-option-item, 
.radio-option-item-submission {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}
.radio-option-item:last-child, 
.radio-option-item-submission:last-child {
    margin-bottom: 0;
}
.radio-option-item input[type="radio"],
.radio-option-item-submission input[type="radio"] {
    width: auto;
    height: auto;
    margin-right: 10px;
    flex-shrink: 0;
}
.radio-option-item label,
.radio-option-item-submission label {
    font-weight: var(--fonte-peso-normal);
}
.radio-no-options-text {
    color: var(--cor-texto-claro);
    font-style: italic;
}

/* --- PAINEL DE PROPRIEDADES (EDITOR DE OPÇÕES) --- */
.property-item-options {
    margin-top: var(--espacamento-l);
}
.property-item-options > label { /* Apenas o label principal */
    display: block;
    font-weight: var(--fonte-peso-normal);
    margin-bottom: var(--espacamento-s);
}
.option-editor-item {
    display: flex;
    align-items: center;
    gap: var(--espacamento-s);
    margin-bottom: var(--espacamento-s);
}
.option-editor-item input {
    flex-grow: 1;
    padding: var(--espacamento-s);
    border: 1px solid var(--cor-borda-focada);
    border-radius: 4px;
}
.option-editor-item button {
    background: none;
    border: none;
    color: #aaa;
    cursor: pointer;
}
.option-editor-item button:hover {
    color: var(--cor-perigo);
}
.add-option-btn {
    width: 100%;
    margin-top: 10px;
    padding: var(--espacamento-s);
    background-color: var(--cor-fundo);
    border: 1px solid var(--cor-borda);
    border-radius: 4px;
    cursor: pointer;
    font-weight: var(--fonte-peso-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--espacamento-s);
}
.add-option-btn:hover {
    background-color: var(--cor-borda);
}

/* --- INTERRUPTOR (TOGGLE SWITCH) --- */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 28px;
}
.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--cor-borda-focada);
  transition: .4s;
}
.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
}
input:checked + .slider {
  background-color: var(--cor-primaria);
}
input:checked + .slider:before {
  transform: translateX(22px);
}
.slider.round {
  border-radius: 34px;
}
.slider.round:before {
  border-radius: 50%;
}

/* --- ESTILOS PARA O PORTAL DO UTILIZADOR (Refatorado) --- */

.user-portal-form-list {
    margin-top: var(--espacamento-xl);
}

.category-group {
    margin-bottom: var(--espacamento-xxl);
}

.category-title {
    font-size: 22px;
    font-weight: var(--fonte-peso-negrito);
    margin-bottom: var(--espacamento-m);
    padding-bottom: 10px;
    border-bottom: 2px solid var(--cor-fundo);
    color: var(--cor-primaria);
}

.user-form-card {
    background-color: var(--cor-branco);
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    padding: var(--espacamento-l);
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    margin-bottom: var(--espacamento-m);
    transition: transform 0.2s, box-shadow 0.2s;
}

.user-form-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.user-form-title {
    font-weight: var(--fonte-peso-negrito);
    font-size: var(--fonte-tamanho-grande);
    color: var(--cor-texto);
}

/* --- PÁGINA DE ADMIN --- */
.role-select {
    padding: 5px var(--espacamento-s);
    border-radius: 4px;
    border: 1px solid var(--cor-borda-focada);
}
.delete-button {
    background: none;
    border: none;
    color: var(--cor-texto-claro);
    cursor: pointer;
    font-size: var(--fonte-tamanho-base);
}
.delete-button:hover {
    color: var(--cor-perigo);
}

/* --- NOVA ESTRUTURA DE LAYOUT PRINCIPAL --- */

.page-wrapper {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    height: 100vh; /* Ocupa a altura da janela */
    overflow: hidden; /* Controla o scroll */
}

.main-header {
    padding: var(--espacamento-m) var(--espacamento-xxl);
    border-bottom: 1px solid var(--cor-borda);
    background-color: var(--cor-branco);
    flex-shrink: 0; /* Impede que o header encolha */
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.main-header .header-logo {
    display: flex;
    align-items: center;
    color: var(--cor-texto);
}
.main-header .logo-icon {
    font-size: 24px;
    margin-right: 12px;
}
.main-header .header-actions {
    display: flex;
    align-items: center;
    gap: var(--espacamento-l);
    font-size: 20px;
}

.page-content {
    flex-grow: 1;
    overflow-y: auto; /* Adiciona scroll apenas ao conteúdo se ele for grande */
    padding: var(--espacamento-xxl); /* O nosso "espaçamento de respiração" */
}

/* --- ESTILOS PARA O CABEÇALHO DE PÁGINA (ADMIN, ETC) --- */
.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espacamento-xl);
}

.page-header h1 {
    font-size: 28px;
    font-weight: var(--fonte-peso-negrito);
    color: var(--cor-primaria);
}

.page-header p {
    font-size: var(--fonte-tamanho-base);
    color: var(--cor-texto-claro);
    margin-top: var(--espacamento-s);
}

.add-user-btn {
    display: flex;
    align-items: center;
    gap: var(--espacamento-s);
    padding: 10px var(--espacamento-m);
    background-color: var(--cor-primaria);
    color: var(--cor-branco);
    border: none;
    border-radius: var(--raio-borda);
    font-size: var(--fonte-tamanho-pequeno);
    font-weight: var(--fonte-peso-negrito);
    cursor: pointer;
    transition: background-color 0.2s;
}

.add-user-btn:hover {
    background-color: var(--cor-primaria-hover);
}

/* --- ESTILOS PARA O MENU DO PORTAL DO UTILIZADOR --- */

.user-portal-menu-list {
    margin-top: var(--espacamento-l);
}

.menu-grid {
    display: grid;
    /* Cria uma grelha com colunas que se ajustam ao tamanho do ecrã */
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: var(--espacamento-l);
}

.menu-card-link {
    text-decoration: none;
    color: var(--cor-texto);
}

.menu-card {
    background-color: var(--cor-branco);
    border: 1px solid var(--cor-borda);
    border-radius: var(--raio-borda);
    padding: var(--espacamento-xl);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 180px;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: var(--sombra-card);
}

.menu-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    border-color: var(--cor-primaria);
}

.menu-card-icon {
    font-size: 40px;
    color: var(--cor-primaria);
    margin-bottom: var(--espacamento-m);
}

.menu-card-title {
    font-weight: var(--fonte-peso-negrito);
    font-size: var(--fonte-tamanho-base);
}